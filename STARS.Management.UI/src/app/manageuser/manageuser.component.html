<!-- <link href="././node_modules/@angular/material/prebuilt-themes/indigo-pink.css" rel="stylesheet"> -->
<div class="container py-4" *ngIf="!this.selectedUser">
    <div ng-controller="ManageUserCtrl" id="ManageUserCtrlID" ng-cloak>
        <div class="row">
            <div class="col-md-12 p-0">
                <div class="title-l-40">User Management </div>
            </div>
        </div>

        <div class="row mt-4 py-1">
            <div class="col-md-12 p-0">
                <div class="row">
                    <div class="col-md-3">
                        <label class="sr-only" for="txtSearch">Search</label>
                        <div class="input-group search-ctrl mb-2 mr-sm-2 p-0">
                            <input type="search" id="txtSearch" name="searchText" class="form-control rounded-5 bg-transparent pr-5 py-1 " aria-label="Search" aria-describedby="basic-addon2" placeholder="Search" [(ngModel)]="searchText">

                            <!-- <div class="input-group-append">
                                <span class="input-group-text btn-blue btn-pill rounded-pill " id="basic-addon2"
                                    ng-click="getUserList()"><i class="fa fa-search"></i></span>
                            </div> -->

                            &nbsp;<button type="button" class="btn btn-blue btn-pill py-1 rounded-5   pl-2 pr-5  mr-sm-3" (click)="getUserList()">Search</button>
                        </div>

                    </div>

                    <div class="col-md-4">

                        <div class="custom-control custom-checkbox  form-check-inline text-blue ml-5 py-2">
                            <input type="checkbox" class="custom-control-input" id="chkAll" (click)="getUserByRole($event)" [(ngModel)]="chkAllIsSelected"> &nbsp;
                            <label class="custom-control-label" for="chkAll">All</label>
                        </div>

                        <div class="custom-control custom-checkbox  form-check-inline text-blue">
                            <input type="checkbox" class="custom-control-input" id="chkSuperAdmin" (click)="getUserByRole($event)" [(ngModel)]="chkSuperIsSelected"> &nbsp;
                            <label class="custom-control-label"> Super Adminstrator</label>
                        </div>

                        <div class="custom-control custom-checkbox  form-check-inline text-blue">
                            <input type="checkbox" class="custom-control-input" id="chkSiteAdmin" (click)="getUserByRole($event)" [(ngModel)]="chkSiteIsSelected"> &nbsp;
                            <label class="custom-control-label" for="chkAdmin"> Site Adminstrator</label>
                        </div>

                    </div>
                    <div class="col-md-1">
                    </div>
                    <div class="col-md-2">
                    </div>
                    <div class="col-md-2">
                        <a href="JavaScript:void(0);" class="btn btn-blue align-items-end ml-5" title="Add New User" (click)="openDialog()">
                            <img src="../assets/images/AddNewUserICon.png" /> Add New User
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 p-0">
                <div class="cust-bg-light cust-list-item" *ngFor="let user of this.userdetails">
                    <div class="cust-list-item-body pl-5">
                        <table class="table border-0 m-0 ml-2">
                            <tr>
                                <td rowspan="3" class="col-image">
                                    <img id="userPhoto" src={{user.thumbnailPhoto}} class="rounded-circle border" style="width:100px;height: 100px;" />
                                </td>
                                <td class="col-name">
                                    <div class="cust-lbl">Name</div>
                                    <div class="cust-val">{{user.fullName}}</div>
                                </td>
                                <td class="col-corpid">
                                    <div class="cust-lbl">User ID</div>
                                    <div class="cust-val">{{user.corpID}}</div>
                                </td>
                                <td class="col-email">
                                    <div class="cust-lbl"></div>
                                    <div class="cust-val"></div>
                                </td>
                                <td>
                                    <div class="cust-lbl">Department</div>
                                    <div class="cust-val">{{user.department}}</div>
                                </td>
                                <td>
                                    <div class="cust-lbl">User Role</div>
                                    <div class="cust-val" *ngIf="user.userRoleId==1">
                                        Site Admin
                                    </div>
                                    <div class="cust-val" *ngIf="user.userRoleId==2">
                                        Super Admin
                                    </div>
                                </td>
                                <td>
                                    <div class="cust-lbl">Status</div>
                                    <div class="cust-val">Active</div>
                                </td>
                                <td class="text-right pr-2 col-view col-action">
                                    <a class="btn btn-blue" title="Edit User" (click)="editUser(user)"><img src="../assets/images/EditIcon.png" /> Edit</a>
                                    <!-- <a ng-click="openAddEditUserView(item.AppUserId,item.CorpUserId)" ng-if="(session.RoleId == 1) || (session.RoleId == 2 && (item.RoleId == 3))" href="JavaScript:void(0);" class="btn btn-blue" title="Edit User"><img src="~/Images/EditIcon.png" /> Edit</a>
                                    @*<a ng-click="openAddEditUserView(item.AppUserId,item.CorpUserId)" ng-if="(session.RoleId == 1) || (session.RoleId == 2 && (item.RoleId == 2 || item.RoleId == 3))" href="JavaScript:void(0);" class="btn btn-blue" title="Edit User"><img src="~/Images/EditIcon.png" /> Edit</a>*@
                                    @*<a ng-click="openAddEditUserView(item.AppUserId,item.CorpUserId)" ng-if="session.RoleId == 1 || (session.RoleId == 2 && item.RoleId ==3)" href="JavaScript:void(0);" class="btn btn-blue" title="Edit User"><img src="~/Images/EditIcon.png" /> Edit</a>
                                        <a ng-click="openAddEditUserView(item.AppUserId,item.CorpUserId)" ng-if="(session.RoleId == 2 && item.RoleId ==2)" href="JavaScript:void(0);" class="btn btn-blue" title="View User"><img src="~/Images/EditIcon.png" /> View</a>*@ -->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="cust-lbl">Created By</div>
                                    <div class="cust-val">{{user.createdBy}}</div>
                                </td>
                                <td>
                                    <div class="cust-lbl">Created Date</div>
                                    <div class="cust-val">{{user.createdDate}}</div>
                                </td>
                                <td colspan="4">
                                </td>
                                <td colspan="4" class="text-right pr-2 col-view col-action">
                                    <a class="btn btn-pink" title="Delete User" (click)="openDeleteDialog(user.corpID)"><img src="../assets/images/DeleteIcon.png" /> Delete</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="pt-2 pb-2" *ngIf="this.userdetails.length == 0">
                    <p class="text-muted">
                        No results found.
                    </p>
                </div>

                <!-- <div class="row pagination-container">
                    <div class="col-md-6 ">
                        <ul uib-pagination total-items="list.paging.totalItems" ng-model="list.paging.currentPage"
                            ng-change="list.PageChanged()" max-size="list.paging.maxSize" class="pagination"
                            boundary-links="true" rotate="false" num-pages="numPages"
                            items-per-page="list.paging.itemsPerPage"></ul>
                    </div>
                    <div class="col-md-6 text-right">
                        <span> items found.</span>
                    </div>
                </div> -->
            </div>
        </div>

    </div>
</div>
<div *ngIf="this.selectedUser">
    <app-updateuser [selectedUser]="this.selectedUser" [isNewUser]="this.isNewUser" (selectedUserReset)="resetUser($event)"></app-updateuser>
</div>